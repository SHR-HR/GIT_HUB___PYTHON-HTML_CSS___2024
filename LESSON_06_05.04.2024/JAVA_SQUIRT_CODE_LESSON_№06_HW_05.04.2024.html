<!--
# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ #

Дата выполнения 5 и 6 АПРЕЛЯ 2024 года.

# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ #

Домашняя работа

Курс: Разработка Web приложений на Python, с применением фреймворка Django
Дисциплина: Разработка клиентских сценариев с использованием JavaScript

Домашнее задание (домашняя работа) №6: События, DOM.

Выполните следующие задания:
# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~

Задание 1.
# ~ ~ ~ ~ ~
Создать html-страницу со светофором и кнопкой, которая переключает светофор на следующий цвет.

# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ #

Урок от 05.04.2024

# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ #
-->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Светофор</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #eaeaea;
            margin: 0;
        }
        .traffic-light {
            width: 120px; /* Увеличение ширины светофора */
            height: 320px; /* Увеличение высоты светофора */
            background-color: #333;
            padding: 15px; /* Увеличение внутренних отступов для большего пространства вокруг светов */
            border-radius: 20px; /* Увеличение скругления углов */
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        .light {
            width: 80px; /* Увеличение ширины светов */
            height: 80px; /* Увеличение высоты светов */
            border-radius: 50%; /* Удерживание круглой формы */
            margin: auto;
            background-color: #555;
            transition: background-color 0.5s, transform 0.5s;
        }
        .light:not(.off) {
            transform: scale(1.1); /* Увеличиваем и включаем свет */
            box-shadow: 0 0 20px 2px;
        }
        #changeBtn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            font-size: 18px;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        #changeBtn:hover {
            background-color: #45a047;
        }
    </style>
</head>
<body>

<div class="traffic-light">
    <div id="red" class="light off"></div>
    <div id="yellow" class="light off"></div>
    <div id="green" class="light off"></div>
</div>
<button id="changeBtn" onclick="changeLight()">Сменить цвет</button>

<!-- Аудиофайлы для каждого цвета -->
<audio id="soundRed" src="red.mp3"></audio>
<audio id="soundYellow" src="yellow.mp3"></audio>
<audio id="soundGreen" src="green.mp3"></audio>

<script>
    var currentLight = -1; // Изначально все выключено
    var colors = ['red', 'yellow', 'green'];
    var sounds = {
        red: document.getElementById('soundRed'),
        yellow: document.getElementById('soundYellow'),
        green: document.getElementById('soundGreen')
    };
    var lights = document.querySelectorAll('.light');

    function changeLight() {
        // Останавливаем и сбрасываем все звуки
        for (var color in sounds) {
            var sound = sounds[color];
            sound.pause();
            sound.currentTime = 0;
        }

        currentLight = (currentLight + 1) % lights.length;
        lights.forEach((light, index) => {
            light.classList.add('off'); // Выключаем все света
            light.style.backgroundColor = '#555'; // Устанавливаем темный цвет
            light.style.boxShadow = 'none'; // Убираем тень
        });

        let activeColor = colors[currentLight];
        let activeLight = lights[currentLight];
        activeLight.classList.remove('off');
        activeLight.style.backgroundColor = activeColor; // Включаем цвет
        activeLight.style.boxShadow = `0 0 20px ${activeColor}`; // Добавляем тень

        // Воспроизводим звук для текущего цвета
        sounds[activeColor].play();
    }
</script>
</body>
</html>
<!--
# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ #

Быстрое описание моего кода:
# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
HTML разметка:
Содержит блок div для визуализации светофора и кнопку, которая позволяет переключать цвета.
Это основа для дальнейшего взаимодействия и визуализации.

CSS стили:
Определяют визуальное представление светофора.
Используется для создания круглых элементов, имитирующих свет светофора,
и для задания базового внешнего вида кнопки и фона страницы.
Цвета ламп светофора в выключенном состоянии (#555) имитируют выключенное состояние,
что повышает реалистичность представления.

JavaScript функция changeLight():
Управляет логикой переключения цветов. Это ядро интерактивности светофора,
позволяющее пользователю менять цвета в заданном порядке: красный → жёлтый → зелёный → красный.

Основные изменения и добавления:
# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
Визуальные улучшения, такие как центрирование страницы и использование светлого фона для контраста,
делают внешний вид более привлекательным и удобным для восприятия.

Анимация и плавные переходы для каждого цвета светофора при активации делают переключение более заметным
и визуально интересным.

Стилизованная кнопка для смены цветов светофора гармонирует с общей темой дизайна.

Добавление переменной colors в JavaScript упрощает управление цветами светофора и делает код более читабельным.

Анимации и стилизация для активного состояния цветов с использованием класса .off и
псевдокласса :not() позволяют более наглядно демонстрировать состояния светофора,
внося в дизайн элементы динамики и интерактивности.

# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ #
Вот он, настоящий учебный пример кода, который, демонстрирующий работу с DOM в JavaScript для создания
интерактивного веб-интерфейса, а также применение базовых принципов CSS для стилизации и анимации элементов.
# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ #
-->
<!--

Шаг № 1: Инициализация и стиль страницы
# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
HTML:

<!DOCTYPE html>
<html lang="ru">
<!DOCTYPE html>: Объявляет, что документ соответствует стандарту HTML5.
<html lang="ru">: Задаёт основной язык содержимого страницы как русский.

CSS:

body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #eaeaea;
    margin: 0;
}

Стили для body центрируют содержимое страницы по горизонтали и вертикали.
100vh обозначает высоту вьюпорта, а background-color устанавливает цвет фона.

.traffic-light {
            width: 120px; /* Увеличение ширины светофора */
            height: 320px; /* Увеличение высоты светофора */
            background-color: #333;
            padding: 15px; /* Увеличение внутренних отступов для большего пространства вокруг светов */
            border-radius: 20px; /* Увеличение скругления углов */
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

.traffic-light задаёт стиль для корпуса светофора: размеры, фон, отступы, скругление углов и тень.

.light {
            width: 80px; /* Увеличение ширины светов */
            height: 80px; /* Увеличение высоты светов */
            border-radius: 50%; /* Удерживание круглой формы */
            margin: auto;
            background-color: #555;
            transition: background-color 0.5s, transform 0.5s;
        }
.light применяется к каждому круглому "свету" в светофоре.
Устанавливает размеры, скругление (для создания круглой формы), и анимацию изменения цвета/размера.

.light:not(.off) {
            transform: scale(1.1); /* Увеличиваем и включаем свет */
            box-shadow: 0 0 20px 2px;
        }

Этот селектор применяет эффект увеличения и тени к активным светам светофора (тех, у которых нет класса .off).

#changeBtn {
    ...
}
#changeBtn:hover {
    ...
}

Стили для кнопки изменения цвета светофора и эффект при наведении.



Шаг № 2: Функция changeLight
# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
JavaScript:

var currentLight = -1; // Изначально все выключено
var colors = ['red', 'yellow', 'green']; // Массив цветов светофора
var sounds = { // Объект звуков для каждого цвета
    red: document.getElementById('soundRed'),
    yellow: document.getElementById('soundYellow'),
    green: document.getElementById('soundGreen')
};
var lights = document.querySelectorAll('.light'); // Находим все элементы света

Инициализация переменных для управления состоянием светофора и звуками.

function changeLight() {
    ...
}

changeLight() — основная функция, которая циклически переключает цвета светофора и соответствующие звуки.

Разбор функции changeLight:

Остановка и сброс звуков:

Перебираем все звуки и останавливаем воспроизведение, сбрасывая текущее время воспроизведения на начало.

Переключение света:

Обновляем currentLight, чтобы перейти к следующему цвету (или вернуться к первому, если достигнут конец массива).
Сначала выключаем все света, устанавливаем фоновый цвет на тёмный и убираем тень.
Затем включаем текущий свет, изменяя его фоновый цвет на соответствующий из массива colors и добавляем тень.

Воспроизведение звука:

Воспроизводим звук для активного цвета светофора.

# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ #
Постарался расписать полный (как мне кажется) разбор кода, который
пошагово объясняет логику работы веб-страницы "Светофор", включая стилизацию с помощью CSS и интерактивность,
реализованную на JavaScript.
Каждый аспект кода рассмотрен отдельно, что позволяет даже начинающему программисту понять
принципы работы этого примера.
# ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ #
-->